# Budget1000 ‚Äî Telegram-–±–æ—Ç –¥–ª—è —É—á—ë—Ç–∞ —Å–µ–º–µ–π–Ω–æ–≥–æ –±—é–¥–∂–µ—Ç–∞

–¢–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç –ø–æ–≤—Ç–æ—Ä—è–µ—Ç —Ç–∞–±–ª–∏—Ü—É –∏–∑ —Å—Ç–∞—Ç—å–∏ –¢‚Äî–ñ –ø—Ä–æ 1000 –¥–Ω–µ–π —É—á—ë—Ç–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤ –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –¥–∞—à–±–æ—Ä–¥—ã, –æ—Ç—á—ë—Ç—ã, —ç–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç –∏ —Ä–∞–±–æ—Ç—É —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏ —Å–µ–º—å–∏.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ (MVP)
- –í–µ–¥–µ–Ω–∏–µ —Ç—Ä–∞—Ç –ø–æ —Ç–∏–ø–∞–º: –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω—ã–µ, –∫—Ä—É–ø–Ω—ã–µ –ø–æ–∫—É–ø–∫–∏, –∫–≤–∞—Ä—Ç–∏—Ä–∞ (—á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫–∏).
- –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π/–ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–π, –∏–º–ø–æ—Ä—Ç –∏–∑ Excel-—à–∞–±–ª–æ–Ω–∞ `–ö–æ–ø–∏—è Costs.xlsx` –∏ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏.
- –î–∞—à–±–æ—Ä–¥ —Å–æ —Å—Ä–µ–¥–Ω–∏–º —Ä–∞—Å—Ö–æ–¥–æ–º, –ª–∏–º–∏—Ç–æ–º –∏ —Å—Ç–∞—Ç—É—Å–æ–º ‚Äú–¢–†–ê–ù–ñ–ò–†–ê/–í –ù–û–†–ú–ï‚Äù.
- –û—Ç—á—ë—Ç—ã –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º, —ç–∫—Å–ø–æ—Ä—Ç –≤ XLSX, –∏–º–ø–æ—Ä—Ç –∏–∑ XLSX (—Ç—Ä–∏ –ª–∏—Å—Ç–∞).
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞: –≤–ª–∞–¥–µ–ª–µ—Ü + –±–µ–ª—ã–π —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–ø–æ username).
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –±–æ—Ç –Ω–∞ `python-telegram-bot`, —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ PostgreSQL, –º–∏–≥—Ä–∞—Ü–∏–∏ Alembic.

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –≤ Docker
1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (–±–æ—Ç —Ç–æ–∫–µ–Ω, DSN –ë–î).
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å—Ç—ç–∫:
   ```bash
   docker-compose up --build
   ```
3. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ (–≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π –≤–∫–ª–∞–¥–∫–µ):
   ```bash
   docker-compose run --rm bot alembic upgrade head
   ```
4. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram, –æ—Ç–ø—Ä–∞–≤—å—Ç–µ `/start` –æ—Ç –≤–ª–∞–¥–µ–ª—å—Ü–∞ (OWNER_USERNAME), —á—Ç–æ–±—ã –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –±–æ—Ç–∞.

## –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ (PyCharm/Windows)
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ```bash
   pip install -r requirements.txt
   ```
2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ `.env`.
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ PostgreSQL (–º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ Docker Desktop) –∏ –ø—Ä–∏–º–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏:
   ```bash
   alembic upgrade head
   ```
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:
   ```bash
   python -m app.bot
   ```

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- –ö–Ω–æ–ø–∫–∞ **‚ûï –î–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å—Ö–æ–¥** ‚Äî –ø–æ—à–∞–≥–æ–≤–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (—Ç–∏–ø ‚Üí –¥–∞—Ç–∞ ‚Üí –¥–µ—Ç–∞–ª–∏ ‚Üí —Å—É–º–º–∞ ‚Üí –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π).
- **üìä –î–∞—à–±–æ—Ä–¥** ‚Äî –∫–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –∏ —Å—Ç–∞—Ç—É—Å—ã.
- **üìà –û—Ç—á—ë—Ç—ã** ‚Äî –±—ã—Å—Ç—Ä—ã–µ –ø–µ—Ä–∏–æ–¥—ã –∏–ª–∏ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω.
- **üì• –ò–º–ø–æ—Ä—Ç** ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ XLSX –∏–∑ —à–∞–±–ª–æ–Ω–∞.
- **üì§ –≠–∫—Å–ø–æ—Ä—Ç** ‚Äî –≤—ã–≥—Ä—É–∑–∫–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ XLSX —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π —Å —Ç–∞–±–ª–∏—Ü–µ–π.

–î–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å username –∏–∑ `OWNER_USERNAME` –∏–ª–∏ `ALLOWED_USERNAMES`.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- `app/bot.py` ‚Äî —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –±–æ—Ç–∞.
- `app/handlers/` ‚Äî –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ –∏ –º–µ–Ω—é (–∫–Ω–æ–ø–∫–∏).
- `app/models/` ‚Äî SQLAlchemy –º–æ–¥–µ–ª–∏.
- `app/services/` ‚Äî —Ä–∞–±–æ—Ç–∞ —Å –ë–î, —Ä–∞—Å—á—ë—Ç—ã, –æ—Ç—á—ë—Ç—ã, Excel-—ç–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç, –≥—Ä–∞—Ñ–∏–∫–∏.
- `app/utils/` ‚Äî –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã.
- `app/migrations/` + `alembic.ini` ‚Äî –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î.

## –î–∞–ª—å–Ω–µ–π—à–∞—è –¥–æ—Ä–∞–±–æ—Ç–∫–∞
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞—Ç —Å –ø–æ—à–∞–≥–æ–≤—ã–º–∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞–º–∏.
- –î–æ–±–∞–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö –≤—ã–ø–∏—Å–æ–∫ (CSV/XLSX).
- –í—ã–Ω–µ—Å—Ç–∏ –¥–æ—Å—Ç—É–ø—ã (OWNER + whitelist) –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ middleware.
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Telegram Mini App –¥–ª—è —Ç–∞–±–ª–∏—á–Ω–æ–≥–æ –≤–≤–æ–¥–∞.
- –î–æ–±–∞–≤–∏—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–Ω—É—é —Ä–∞–±–æ—Ç—É –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
